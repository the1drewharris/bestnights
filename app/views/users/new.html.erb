<% content_for :title, "BestNights.com - Add User" %>

<header>
	<h1>Add User</h1>
</header>

<div id="container-main">
	<%= form_for @user, url: create_user_path do |f| %>
		<fieldset>
		  <ul>
		  	<li>
	  			<%= f.label 'First Name*' %>
			  	<%= f.text_field :firstname, :autofocus => true %>
			  </li>
			  <li>
			  	<%= f.label 'Last Name*' %>
			  	<%= f.text_field :lastname, :autofocus => true %>
			  </li>
			  <li>
			  	<%= f.label 'Email*' %>
		  		<%= f.text_field :email, :autofocus => true %>
				</li>
			  <li>
			  	<%= f.label 'Password*' %>
		  		<%= f.password_field :password %>
				</li>
			  <li>
			  	<%= f.label 'Password confirmation*' %>
		  		<%= f.password_field :password_confirmation %>
				</li>
			  <li>
			  	<%= f.label 'Address*' %>
			  	<%= f.text_field :address1, :autofocus => true %>
				</li>
			  <li>
			  	<%= f.label 'City*' %>
			  	<%= f.text_field :city, :autofocus => true %>
				</li>
			  <li>
			  	<%= f.label :country_id %>
					<%= f.country_select :country_id, priority: %w(US CA), prompt: 'Please select a country' %>
			  </li>	
			  <li>
					<label for="State/Province" style="float:left">State/Province</label>
					<%= render partial: 'users/test', locals: {parent_region: f.object.country_id} %>
				</li>	
			  <% #TODO this needs to be set in a more static fashion or secured or both %>
			  <li>
			  	<%= f.label :type %>
			  	<%= f.select :role, options_for_select(User::ROLE) %>					
			  </li>  	
		  </ul>	
		</fieldset>
		<fieldset class="formactions">
			<%= f.submit %>
		</fieldset>
	<% end %>
</div>

<%= javascript_include_tag :jquery_ujs %>